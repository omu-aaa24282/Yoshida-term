// ===== 行政区画（千葉県習志野市）表示 =====
fetch("./N03-23_12_230101.geojson") // 1. ファイル名が正しいか確認！
    .then(res => {
        if (!res.ok) throw new Error('ファイルの読み込みに失敗しました');
        return res.json();
    })
    .then(data => {
        // 2. フィルタ条件が「習志野市」になっているか確認
        const filteredData = data.features.filter(
            feature => feature.properties.N03_004 === '習志野市'
        );

        if (filteredData.length === 0) {
            console.warn("習志野市のデータが見つかりませんでした。");
            return;
        }

        const selected_area = L.geoJSON(filteredData, {
            style: {
                color: "#FF0000", // 赤色
                weight: 4,
                fillColor: "#FF0000",
                fillOpacity: 0.2
            }
        }).bindPopup(layer => layer.feature.properties.N03_004);

        map.addLayer(selected_area);
        LayerControl.addOverlay(selected_area, "行政区域（習志野市）");

        // 3. 自動ズームを習志野市に合わせる
        map.fitBounds(selected_area.getBounds());
    })
    .catch(e => console.error("行政区画データの取得エラー:", e));
